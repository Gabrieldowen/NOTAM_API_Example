{% extends 'base.html' %}

{% block content %}
<div style="display: flex; ">
    <input type="image" id ="plane" src="static/images/plane.png" onclick="returnToForm()" alt="Submit">
    <span class = "custom-text">
        Go Back
    </span>
</div>

<div class="container mt-5">
    <button id="filterButton" onmouseenter="showFilterOptions()" onmouseleave="hideFilterOptions()" class="btn btn-primary">Filter</button>
    <button id="rankButton" onmouseenter="showRankList()" onmouseleave="hideRankList()" class="btn btn-primary">Rank</button>
	
    <div id="filterOptions" class="dropdown-menu" onmouseenter="showFilterOptions()" onmouseleave="hideFilterOptions()">
        <form>
            <input type="checkbox" id="closed_runways" name="filter_options" value="closed_runways">
            <label for="closed_runways" title="Remove subsequent NOTAMs related to closed runway">Closed Runways</label><br>
            <input type="checkbox" id="obstacle_notams" name="filter_options" value="obstacle_notams">
            <label for="obstacle_notams" title="Remove ALL NOTAMs related to obstacles">Obstacle NOTAMs</label><br>
            <input type="checkbox" id="high_obstacle_notams" name="filter_options" value="high_obstacle_notams">
            <label for="high_obstacle_notams" title="Keep ONLY NOTAMs above 500ft">High Obstacle NOTAMs</label><br>
            <input type="checkbox" id="lighting_marking_notams" name="filter_options" value="lighting_marking_notams">
            <label for="lighting_marking_notams" title="Remove ALL NOTAMs marked as lighting or marking">Lighting & Marking NOTAMs</label><br>
            <input type="hidden" id="notamsJson" value="{{ notams_json }}">
            <button type="button" onclick="applyFilters()">Apply Filters</button>
        </form>
    </div>
	
	<div class="sortable-list" id="sortableListContainer" onmouseenter="showListContainer()" onmouseleave="hideListContainer()">
		<ul id="notamBoxes">
			<li draggable="true">FDC</li>
			<li draggable="true">INTL</li>
			<li draggable="true">DOM</li>
			<li draggable="true">MIL</li>
			<li draggable="true">SAA</li>
		</ul>
		<button type="button" onclick="">Apply Rank</button>
	</div>
</div>

 <div class="container mt-5" id="notamList">
        <h1 style="margin-left: -2px;">NOTAM Information</h1>
            <p> Total number of Notams fetched: {{ notams|length }} </p>
        
        <div class="accordion">
            {% for notam in notams %}
            <div class="accordion-item">
                <input type="checkbox" class="custom-checkbox" id="item{{ loop.index }}">
                <label for="item{{ loop.index }}" class="accordion-header custom-checkbox-label">Notam ID: {{ notam.id }}</label>
                <div class="accordion-content">
                    <p><strong>Series: </strong>{{ notam.series }}</p>
                    <p><strong>Number: </strong>{{ notam.number }}</p>
                    <p><strong>Type: </strong>{{ notam.type }}</p>
                    <p style="margin-bottom: 5px;"><strong>Issued: </strong>{{ notam.issued }}</p>
                </div>
            </div>
        {% endfor %}
        </div>
    </div>

{% endblock %}
